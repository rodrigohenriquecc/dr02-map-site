<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Mapa Interativo – DR.02</title>

  <!-- Leaflet -->
  <link rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">

  <!-- CSS do projeto -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <h1>Mapa Interativo – DR.02</h1>

  <div id="container">
    <!-- Sidebar fixa ----------------------------------------------->
    <aside id="sidebar">
      <h2>Filtros</h2>

      <fieldset>
        <legend>Regiões</legend>
        <label><input type="checkbox" class="region-filter" data-region="RC 2.1" checked> RC 2.1</label>
        <label><input type="checkbox" class="region-filter" data-region="RC 2.2" checked> RC 2.2</label>
        <label><input type="checkbox" class="region-filter" data-region="RC 2.4" checked> RC 2.4</label>
        <label><input type="checkbox" class="region-filter" data-region="RC 2.5" checked> RC 2.5</label>
        <label><input type="checkbox" class="region-filter" data-region="RC 2.6+2.8" checked> RC 2.6+2.8</label>
        <label><input type="checkbox" class="region-filter" data-region="RC 2.7" checked> RC 2.7</label>
        <label><input type="checkbox" class="region-filter" data-region="CGR.02 Unificada" checked> CGR.02 Unificada</label>
      </fieldset>

      <fieldset>
        <legend>Rodovias</legend>
        <input id="road-search" type="search" placeholder="Buscar rodovia…">
        <div id="rodovia-filters"></div>
      </fieldset>
    </aside>

    <!-- Mapa -->
    <div id="map"></div>
  </div>

  <!-- Scripts ------------------------------------------------------>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/shpjs@latest/dist/shp.min.js"></script>
  <script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
  <script src="js/script.js"></script>

  <!-- Filtro de busca por rodovia -->
  <script>
    document.getElementById('road-search').addEventListener('input', e => {
      const q = e.target.value.toLowerCase();
      document.querySelectorAll('#rodovia-filters label').forEach(lb => {
        lb.style.display = lb.textContent.toLowerCase().includes(q) ? 'block' : 'none';
      });
    });
  </script>
</body>
</html>
